<div class="content-wrapper mt-10">
  <div class="bulletin-board max-w-md mx-auto paper-sheet-profile">
    <h2 class="text-2xl font-title-section mb-4 text-center">
      {{ mode() === 'login' ? 'Iniciar sesión' : 'Registrarse' }}
    </h2>

    <form (ngSubmit)="submit()" class="flex flex-col gap-4">
      <div>
        <label class="block font-semibold mb-1 text-encyclopedia-accent">Email</label>
        <input
          type="email"
          class="w-full px-3 py-2 border rounded shadow-inner"
          required
          [(ngModel)]="email"
          name="email"
        />
      </div>

      <div>
        <label class="block font-semibold mb-1 text-encyclopedia-accent">Contraseña</label>
        <input
          type="password"
          class="w-full px-3 py-2 border rounded shadow-inner"
          required
          [(ngModel)]="password"
          name="password"
        />
      </div>

      <div *ngIf="mode() === 'register'">
        <label class="block font-semibold mb-1 text-encyclopedia-accent">Nombre a mostrar</label>
        <input
          type="text"
          class="w-full px-3 py-2 border rounded shadow-inner"
          [(ngModel)]="displayName"
          name="displayName"
        />
      </div>

      <button
        type="submit"
        [disabled]="loading()"
        class="auth-btn"
      >
        {{ loading() ? 'Cargando...' : (mode() === 'login' ? 'Iniciar sesión' : 'Registrarse') }}
      </button>
    </form>

    <div class="mt-4 text-center">
      <button (click)="toggleMode()" class="text-encyclopedia-accent hover:text-encyclopedia-title" >
        {{ mode() === 'login' ? '¿No tienes cuenta? Regístrate' : '¿Ya tienes cuenta? Inicia sesión' }}
      </button>
    </div>

    @if (feedbackMessage()) {
      <div  class="mt-4 text-green-700 font-semibold">
        {{ feedbackMessage() }}
      </div>
    }

    @if (feedbackError()) {
      <div class="mt-4 text-red-700 font-semibold">
        {{ feedbackError() }}
      </div>
    }
  </div>
</div>

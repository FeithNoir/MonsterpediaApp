<div class="flex items-center justify-center min-h-screen p-4">
  <div class="auth-container max-w-md w-full rounded-lg p-8">
    <!-- Decorative bottom pins -->
    <div class="bottom-pins"></div>
    
    <h2 class="auth-title">
      {{ mode() === 'login' ? 'Iniciar sesión' : 'Registrarse' }}
    </h2>

    <form (ngSubmit)="submit()" class="auth-form">
      <div>
        <label class="auth-label">Email</label>
        <input 
          type="email" 
          class="auth-input" 
          required 
          [(ngModel)]="email"
          name="email"
          placeholder="tu@email.com" />
      </div>

      <div>
        <label class="auth-label">Contraseña</label>
        <p-inputgroup>
          <div class="password-group w-full">
            <input 
              pInputText 
              [type]="isViewingPassword ? 'text' : 'password'" 
              [(ngModel)]="password" 
              placeholder="Contraseña" 
              [ngModelOptions]="{standalone: true}" 
              class="auth-input password-input" />
            <div class="password-toggle" (click)="toggleIcon()">
              <i [ngClass]="isViewingPassword ? 'pi pi-eye-slash' : 'pi pi-eye'"></i>
            </div>
          </div>
        </p-inputgroup>
      </div>

      @if (mode() === 'register') {
        <div>
          <label class="auth-label">Nombre a mostrar</label>
          <input 
            type="text" 
            class="auth-input" 
            [(ngModel)]="displayName"
            name="displayName"
            placeholder="Tu nombre" />
        </div>
      }

      <button 
        type="submit" 
        [disabled]="loading()" 
        class="auth-submit-btn">
        {{ loading() ? 'Cargando...' : (mode() === 'login' ? 'Iniciar sesión' : 'Registrarse') }}
      </button>
    </form>

    <div class="auth-actions">
      <button 
        (click)="toggleMode()" 
        class="auth-secondary-btn">
        {{ mode() === 'login' ? '¿No tienes cuenta? Regístrate' : '¿Ya tienes cuenta? Inicia sesión' }}
      </button>

      <button 
        (click)="goToUrl('reset-password')" 
        class="auth-secondary-btn">
        ¿Olvidaste la contraseña?
      </button>
    </div>

    @if (feedbackMessage()) {
      <div class="auth-feedback auth-feedback-success">
        {{ feedbackMessage() }}
      </div>
    }

    @if (feedbackError()) {
      <div class="auth-feedback auth-feedback-error">
        {{ feedbackError() }}
      </div>
    }
  </div>
</div>
